\documentclass[deligne.tex]{subfiles}

\begin{document}
\subsection*{1.1}
The condition that $k$ be algebraically closed when
$D(X)=D_c^b(X,\overline\QQ_\ell)$ is at first to secure \cite[2.2.14]{BBD},
and later to secure the existence of good neighborhoods.

\subsection*{2.1}
The category $D(\eta)$ coincides with the Verdier quotient of $D(X)$ by the
thick subcategory generated by the complexes acyclic at $\eta$.

\subsection*{2.1.1} In $\dim X=0$, the statement is clear as the abelian
category of $\overline\QQ_\ell$-sheaves on such an $X$ is semisimple.

To find the neighborhood $U$, we proceed as follows: first shrink $U$ so that
$M_U,N_U$ are lisse, and $U$ is integral and contained in the smooth locus 
($X$ is reduced by assumption).
By Artin's good neighborhood theorem ($k$ is algebraically closed), we find a
$Z$ smooth over $k$ and a $k$-morphism $f:U\ra Z$ with geometrically
irreducible fibers of dimension 1
($f$ is smooth of relative dimension 1 in the sense of Hartshorne, recalling
EGA $IV_4$ 17.8.2 or SGA 1 II 2.1).
In particular, $Z$ is regular and, as $f(U)=Z$, irreducible hence integral.
Replace $Z$ by an affine open $\Spec A$ contained in it and $U$ by an affine 
open $\Spec B$ contained in the preimage; the only thing that changes is that 
some fibers of $f$ may now be empty; if a fiber is nonempty, it is still 
geometrically irreducible of dimension 1.
As $f$ is still smooth, hence in particular open, there is some $a\in A$ with
the property that $D(a)\subset f(U)\subset Z$ and that the restriction of 
$R^qf_*\underline\Hom(M_u,N_U)$ to $D(a)$ is lisse for all $q$.
As $f$ is dominant, the induced ring homomorphism $A\ra B$ is injective,
the map of spectra $\P:\Spec B_a\ra\Spec A_a$ is surjective, and the
$R^q\P_*\underline\Hom(M_u,N_U)$ are lisse. Set $U=\Spec B_a$, $Z=\Spec A_a$:
$\P:U\ra Z$ now has all the desired properties; it is smooth, affine, with
1-dimensional fibers (which are moreover geometrically irreducible), $Z$
is smooth over $k$ hence regular, and the $L^q$ are lisse sheaves on $Z$.

Now to see that $L^q=0$ unless $q=0$ or 1. The argument below works for 
finite coefficients; we let $R$ be the ring of integers of a finite extension
$E_\lambda$ of $\QQ_\ell$ with maximal ideal $m$ and note that $R/m^n$ is
injective as a module over itself by Baer's criterion. Let $\Lambda:=R/m^n$
and we consider constructible sheaves of $\Lambda$-modules.
Let $\mathcal J$ be any l.c.c. sheaf of $\Lambda$-modules on $U$; we wish to 
show that $R^q\P_*\mathcal J=0$ unless $q=0,1$. En effet,
\begin{multline*}
	R\P_*\mathcal J[2]\simeq
	R\P_*R\underline\Hom(\mathcal J^\vee(1),\Lambda(1)[2])\xra\sim
	R\underline\Hom(R\P_!(\mathcal J^\vee(1)),\Lambda) \\
	=\underline\Hom(R\P_!(\mathcal J^\vee(1)),\Lambda)
\end{multline*}
and it reduces to showing that $R\P_!(\mathcal J^\vee(1))$ is concentrated in
degrees 1 and 2, which will follow from proper base change from the 
corresponding fiberwise statement. In other words, we must show that given a 
l.c.c. sheaf $\mathcal F$ on a smooth affine curve $Y$ over an algebraically 
closed field $k$, $H_c^i(Y,\mathcal F)$ unless $i=1,2$. This follows
immediately from Poincaré duality on $Y$
\begin{equation*}
	H^{2-i}(Y,\mathcal F^\vee(1))\xra\sim H^i_c(Y,\mathcal F)^\vee
\end{equation*}
and Artin's theorem.

The abutment of the Leray spectral sequence
\begin{equation*}
	H^p(Z,L^q)\Rightarrow H^{p+q}(U,\underline\Hom(M_U,N_U))
	\simeq H^{p+q}R\Hom(\overline\QQ_\ell,\underline\Hom(M_U,N_U))
\end{equation*}
is naturally isomorphic to
\begin{equation*}
	\Ext_{D(U)}^{p+q}(M_U,N_U)\simeq H^{p+q}	R\Hom(\overline\QQ_\ell,R\underline\Hom(M_U,N_U))
\end{equation*}
because as $M_U$ is a lisse $\overline\QQ_\ell$-sheaf,
$\underline\Hom(M_U,-)$ is an exact functor.
To see that
$\underline\Ext^i(M_U,N_U)=0$ for $i>0$, note that since $M_U$ is 
lisse, for any geometric point $x$ of $U$,
$\underline\Hom(M_U,N_U)_x=\underline\Hom((M_U)_x,(N_U)_x)$ and likewise for
$R\underline\Hom$ (c.f. \hyperref[thfin:1.6]{note to Th. fin. 1.6}), so
that $R\underline\Hom(M_U,N_U)$ is connective iff
$\underline\Hom((M_U)_x,(N_U)_x)$ is, and we can compute the latter via a
projective resolution of $(M_U)_x$. But $M_U$ is a lisse
$\overline\QQ_\ell$-sheaf, so that we can represent it on the level of a
finite coefficient ring $\Lambda$ by a torsion-free sheaf, in which case
$(M_U)_x$ is a projective $\Lambda$-module.

\subsection*{2.1.2} On the definition of the arrows
\begin{equation*}
	H^p(Z,R^0\P_*\underline\Hom(M_U,N_U))
	\ra H^p(Y',R^0\P_{Y'*}(\underline\Hom(M_{U_{Y'}},Q_{U_{Y'}}))):
\end{equation*}
let $j:Y'\hookrightarrow Z$ denote the immersion and its base extensions; 
then
\begin{align*}
	R\Gamma(Z,R^0\P_*\underline\Hom(M_U,N_U))
	&\xra\sim R\Gamma(Z,j_*j^*R^0\P_*\underline\Hom(M_U,N_U)) \\
	&\xra\sim R\Gamma(Z,j_*R^0\P_{Y'*}\underline\Hom(M_{U_{Y'}},N_{U_{Y'}})) \\
	&\ra R\Gamma(Z,j_*R^0\P_{Y'*}\underline\Hom(M_{U_{Y'}},Q_{U_{Y'}})) \\
	&\ra R\Gamma(Z,Rj_*R^0\P_{Y'*}\underline\Hom(M_{U_{Y'}},Q_{U_{Y'}})) \\
	&=R\Gamma(Y',R^0\P_{Y'*}\underline\Hom(M_{U_{Y'}},Q_{U_{Y'}})),
\end{align*}
where the first arrow is (inconsequentially) an isomorphism since $L^0$ is lisse.
(Of course $j^*R^0\P_*=H^0j^*R\P_*\xra\sim H^0R\P_{Y'*}j^*=R^0\P_{Y'*}j^*$.)

\subsubsection*{Proof of $(2.1.2)\Rightarrow(2.1.1)$}
In the proof, (2.1.2 b) is invoked with
$Z$ and replaced by $Y$ and sheaves $M_{U_Y}$ and $P_{U_Y}$, where $P_{U_Y}$
is lisse on $U_Y$ but the condition that the
$R^q\P_{Y*}(M_{U_Y}^*\otimes P_{U_Y})$ be lisse on $Y$ is not secured
by (2.1.2 a). The condition that the $L^q$ be lisse is used in the proof of
(2.1.2 b). Therefore (2.1.2 a) should say

(2.1.2 a) There exists an open $Y\subset Z$, a lisse $P_{U_Y}$ in $M(U_Y)$
and an injection $N_{U_Y}\hookrightarrow P_{U_Y}$ such that the sheaves
$R^q\P_{Y*}(M_{U_Y}^*\otimes P_{U_Y})$ are lisse and the corresponding arrow
$R^1\P_{Y*}\underline\Hom(M_{U_Y},N_{U_Y})\rightarrow R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y})$ is null.

Of course, the original (2.1.2 a) implies this statement.

As for the proof of $(2.1.2)\Rightarrow(2.1.1)$, one must observe that
restriction from $U$ to $U_Y$ and the arrow $N_{U_Y}\hookrightarrow P_{U_Y}$
together induce a morphism of spectral sequences which is the zero map on
$H^{i-1}(Z,R^1\P_*\underline\Hom(M_U,N_U))\ra
H^{i-1}(Y,R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y}))$
(this arrow is defined as the one in (2.1.2 b)),
implying the first statement as the image of the $E_2$ page has
\begin{equation*}
	\im(H^i(U,R^0\P_*\underline\Hom(M_U,N_U))\ra H^i(Y,R^0\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y})))
\end{equation*}
as the only nonzero term 
of the $i$th diagonal, so that its image in the abutment, which coincides 
with its image on the $E_3$ page, which coincides with its image in
$H^i(Y,R^0\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y}))/d_2(H^{i-2}(Y,R^1\P_{Y*}(M_{U_Y},P_{U_Y})))$,
coincides with the image of $\Ext^i_{D(U)}(M_U,N_U)$ in
$\Ext^i_{D(U_Y)}(M_{U_Y},P_{U_Y})$. This is in turn killed by (2.1.2 b)
for $i>0$.

\subsubsection*{Proof of 2.1.2 a}
\begin{align*}
	L^{1*}\otimes L^1
	&=\underline\Hom(L^1,L^1)
	=\underline\Hom(L^1,R^1\P_*\underline\Hom(M,N)) \\
	&\simeq H^1\underline\Hom(L^1,R\P_*\underline\Hom(M,N))
	\simeq R^1\P_*\underline\Hom(\P^*L^1,\underline\Hom(M,N)) \\
	&\simeq R^1\P_*\underline\Hom(\P^*L^1\otimes M,N)
\end{align*}
where the first isomorphism on the second line holds because
$L^1$ is a lisse $\overline\QQ_\ell$-sheaf so that $\underline\Hom(L^1,-)$
is an exact functor, as discussed above.

The injection $N\hookrightarrow P_{U_Y}$ induces the following map on
$L^{1*}\otimes L^1$:
\begin{align*}
	&L^{1*}\otimes L^1\xra\sim R^1\P_*\underline\Hom(\P^*L^1\otimes M,N)
	\ra R^1\P_*\underline\Hom(\P^*L^1\otimes M,P_{U_Y});\quad\text{\emph{i.e.}} \\
	&\underline\Hom(L^1,L^1)=
	\underline\Hom(L^1, R^1\P_*\underline\Hom(M,N))
	\ra\underline\Hom(L^1, R^1\P_*\underline\Hom(M,P_{U_Y})).
\end{align*}
If $\alpha$ is the image of the global extension $\tilde\alpha$,
then the injection $N\hookrightarrow P_{U_Y}$ defined by the extension of
class $\alpha$ will annihilate $\tilde\alpha$ (c.f.
\hyperref[sec:killExts]{note to BBD 3.1.17}). As $\alpha$ is the image of
$\tilde\alpha$ under a natural map (i.e. $N\hookrightarrow P_{U_Y}$ induces
a morphism of Leray spectral sequences), this injection likewise kills
$\alpha$. But $L^{1*}\otimes L^1=\underline\Hom(L^1,L^1)$, and under
this isomorphism $\alpha\mapsto\id$, so that the global section
$\alpha\in H^0(Z,L^{1*}\otimes L^1)$ goes to zero precisely when the section
$\id\in\Hom(L^1,L^1)$ does; i.e. precisely when $L^1$ is
annihilated.
\begin{equation*}\begin{tikzcd} [%
    ,row sep = 0ex
    ,/tikz/column 1/.append style={anchor=base east}
    ,/tikz/column 2/.append style={anchor=base west}
    ]
	\Hom(L^1,&[-35pt]L^1)\ni\id\arrow[r,mapsto]&0 \\
	&L^1=\underline\Hom(L^1, R^1\P_*\underline\Hom(M,N))\arrow[r]
	&\underline\Hom(L^1, R^1\P_*\underline\Hom(M,P_{U_Y})
\end{tikzcd}\end{equation*}
The induction step is used to kill the obstruction in the following way:
$\dim Z=-1+\dim X$ so the induction hypothesis gives $Y\subset Z$ and
$\varphi:L^{1*}_Y\hookrightarrow K_Y$ inducing zero on
$\Ext^2_{D(Z)}(L^{0*},L^{1*})\ra\Ext^2_{D(Y)}(L^{0*}_Y,L^{1*}_Y)$. But
\begin{align*}
	\Ext^2_{D(Z)}(L^{0*},L^{1*})
	&=H^2R\Hom(L^{0*},L^{1*})
	=H^2R\Hom(\overline\QQ_\ell,R\underline\Hom(L^{0*},L^{1*})) \\
	&=H^2R\Hom(\overline\QQ_\ell,\underline\Hom(L^{0*},L^{1*}))
	=H^2(Z,L^{0}\otimes L^{1*}),
\end{align*}
and likewise on $Y$.

Typos: it is clear from the above that
\begin{align*}
	&K_Y\otimes L^1_Y\simeq R^1\P_{Y*}\underline\Hom(\P^*K_Y^*\otimes M_{U_Y},N_{U_Y})
	\qquad\text{\emph{and}} \\
	&\widetilde{\varphi(\alpha)}\in\Ext^1(\P^*K_Y^*\otimes M_{U_Y},N_{U_Y})
\end{align*}
with $\P^*K_Y^*$ instead of $\P^*K_Y$ and $M_{U_Y},N_{U_Y}$ in lieu of
$M_U,N_U$. Finally, $P_{U_Y}$ is defined by an extension of
$\P^*K_Y^*\otimes M_{U_Y}$, not $\P_*K_Y\otimes M_{U_Y}$, by $N_{U_Y}$.

Explanation of proof: our objective is to find an injection
$N_{U_Y}\hookrightarrow P_{U_Y}$ such that the corresponding arrow
$R^1\P_{Y*}(\underline\Hom(M_{U_Y},N_{U_Y})\ra R^1\P_{Y*}(M_{U_Y},P_{U_Y})$
is null. The first part of the proof is enough to construct such a $P_{U_Y}$
if we look over the strict henselization of $Y$ at a closed point
$y\in Y$, because of course any lisse sheaf on $Y_y$ is constant so that if
we set $Z=Y_y$,
$\Ext^1(\P^*L^1\otimes M,N)=H^0(Y_y,L^{1*}\otimes L^1)$
since $R\Gamma(Y_y,-)=H^0(Y_y,-)$ is an exact functor so that
\begin{multline*}
	\Ext^1(\P^*L^1\otimes M,N)
	=H^1R\Gamma\; R\P_*R\underline\Hom(\P^*L^1\otimes M,N) \\
	=R\Gamma\;H^1R\P_*R\underline\Hom(\P^*L^1\otimes M,N)
	=H^0(Y_y,R^1\P_*\underline\Hom(\P^*L^1\otimes M,N)) \\
	=H^0(Y_y,L^{1*}\otimes L^1).
\end{multline*}
Now the point is that even though it is simple to find a $P_{U_Y}$ looking
over each closed fiber, the existence of a global $P_{U_Y}$ is 
obstructed by the possibly nonzero class
$\partial(\alpha)$. Therefore the trick is to take an injection
$\varphi:L^{1*}_Y\hookrightarrow K_Y$ into a lisse $K_Y$ on $Y\subset Z$
which kills $\partial(\alpha)$.
Now, $\varphi(\alpha)\in H^0(Y,K_Y\otimes L^1_Y)$ is annihilated by
$L^1_Y\ra R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y})$ for the same reasons as
before, but now the existence of $P_{U_Y}$ is guaranteed by design. The
injection $\varphi$ induces an injection of global sections
$H^0(Y,L^{1*}_Y\otimes L^1_Y)\hookrightarrow H^0(Y,K_Y\otimes L^1_Y)$.
\begin{equation*}\begin{tikzcd}
	H^0(Y,L^{1*}_Y\otimes L^1_Y)\arrow[r,"\varphi\otimes\id",hook]\arrow[d]
	& H^0(Y,K_Y\otimes L^1_Y)\arrow[d] \\
	H^0(Y,L^{1*}_Y\otimes R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y}))
	\arrow[r,hook]
	& H^0(Y,K_Y\otimes R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y}))
\end{tikzcd}\end{equation*}
As the rightmost vertical arrow kills $\varphi(\alpha)$, the leftmost
vertical arrow must kill $\alpha$. As $\alpha$ corresponds to
$\id_{L^1}\in\Hom(L^1_Y,L^1_Y)$, the fact that $\alpha$ goes to zero under
\begin{equation*}
	\Hom(L^1_Y,L^1_Y)\ra\Hom(L^1_Y,R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y}))
\end{equation*}
implies that the map $L^1_Y\ra R^1\P_{Y*}\underline\Hom(M_{U_Y},P_{U_Y})$
is null.

\subsubsection*{Proof of 2.1.2. b}
The $Q_{U_Y'}$ of the statement of (2.1.2 b) is denoted $O_{U_Y'}$ in the
proof. About the cocartesian square: indeed pushouts exist in any topos, and
if you like fancy words, any topos is an adhesive category, meaning that it
has pullbacks and pushouts of monomorphisms, and pushout squares of monomorphisms are also pullback squares and are stable under pullback.
In particular, $O_{U_Y'}$ defined by a pushout, has
$N_{U_{Y'}}\hookrightarrow O_{U_{Y'}}$ injective since
$\P_{Y'}^*L^0_{Y'}\otimes M_{U_{Y'}}\hookrightarrow \P_{Y'}^*Q_{Y'}\otimes M_{U_{Y'}}$ is.
The reason any Grothendieck topos is adhesive is as simple as you think it
is, namely that the category of sets is adhesive and adhesivity is a
condition on colimits and finite limits, hence preserved by functor
categories and left-exact localizations
(c.f. \href{https://ncatlab.org/nlab/show/adhesive+category}{nLab}).

The canonical arrow is given by composition
\begin{ceqn}\begin{equation*}
	\P^*_{Y'}L^0_{Y'}\otimes M_{U_{Y'}}
	=\P^*_{Y'}\P_{Y'*}(M_{U_{Y'}}^*\otimes N_{U_{Y'}})\otimes M_{U_{Y'}}
	\ra (M_{U_{Y'}}^*\otimes N_{U_{Y'}})\otimes M_{U_{Y'}}
	\ra N_{U_{Y'}}.
\end{equation*}\end{ceqn}
The pushout
\begin{equation*}\begin{tikzcd}
	\P^*_{Y'}L_{Y'}^0\otimes M_{U_{Y'}}\arrow[r,hook]\arrow[d]
	&\P^*_{Y'}Q_{Y'}^0\otimes M_{U_{Y'}}\arrow[d] \\
	N_{U_{Y'}}\arrow[r,hook]&O_{U_{Y'}}
\end{tikzcd}\end{equation*}
defines by adjunction the commutative diagram
\begin{equation*}\begin{tikzcd}
	\P^*_{Y'}L_{Y'}^0\arrow[r,hook]\arrow[d]
	&\P^*_{Y'}Q_{Y'}^0\arrow[d] \\
	\underline\Hom(M_{U_{Y'}},N_{U_{Y'}})\arrow[r]
	&\underline\Hom(M_{U_{Y'}},O_{U_{Y'}})
\end{tikzcd}\end{equation*}
and again by adjunction the commutative diagram
\begin{equation*}\begin{tikzcd}
	L_{Y'}^0\arrow[r,hook]\arrow[d]
	&Q_{Y'}^0\arrow[d] \\
	\P_{Y'*}\underline\Hom(M_{U_{Y'}},N_{U_{Y'}})\arrow[r]
	&\P_{Y'*}\underline\Hom(M_{U_{Y'}},O_{U_{Y'}})
\end{tikzcd}\end{equation*}
Now to check that the leftmost vertical arrow in the diagram above is the
identity it suffices to show that the identity is taken by adjunction
(from the bottom diagram to the top) to the given arrow in
the pushout diagram that defines $O_{U_{Y'}}$.
The image of $\id:L_{Y'}^0\ra\P_{Y'*}\underline\Hom(M_{U_{Y'}},N_{U_{Y'}})$
under adjunction is given by the counit of the adjunction at the object
$\underline\Hom(M_{U_{Y'}},N_{U_{Y'}})$
\begin{equation*}
	\vep(\underline\Hom(M_{U_{Y'}},N_{U_{Y'}})):
	\P^*_{Y'}\P_{Y'*} \underline\Hom(M_{U_{Y'}},N_{U_{Y'}})
	\ra\underline\Hom(M_{U_{Y'}},N_{U_{Y'}}).
\end{equation*}
Now in general a morphism $f:A\ra\Hom(B,C)$ is taken under tensor-hom 
adjunction to the morphism $A\otimes B\ra C$ which is the composition of
$f\otimes\id$ followed by evaluation. This is exactly the definition of
the canonical arrow above:
$\vep(\underline\Hom(M_{U_{Y'}},N_{U_{Y'}}))\otimes\id$ followed by
evaluation.
For each $i>0$, applying the functor $H^i(Y',-)$ to the last commutative
diagram and precomposing with the arrow
$H^i(Z,L^0)\ra H^i(Y',L^0_{Y'})$ coming from the unit
$\eta(L^0):L^0\ra\P_{Y'*}\P^*_{Y'}L^0=\P_{Y'*}L^0_{Y'}$
effaces $H^i(Z,L^0)$.
\begin{perv}
	All of the arguments above hold for any perversity.
\end{perv}


\subsection*{2.2}
By general considerations \cite[1.2]{BBD}, the morphism $N\ra N'$ is a 
monomorphism if it completes to an exact triangle $(N,N',C)$ with $C$ 
in $M(X)$, or equivalently to an exact triangle $(K,N,N')$ with $K[1]$ in
$M(X)$, so it suffices to show that $^pH^0K=0$. As $j_i^*$ is t-exact, it
suffices to show that $^pH^0j_i^*K=0$ for all $i$.
By hypothesis $N_{U_i}\hookrightarrow N'_{U_i}$ so that
$(N_{U_i},j_i^*N',j_i^*K[1])$ has $j_i^*K[1]$ in $M(U_i)$.

To see that the injection $N\hookrightarrow N'$ kills all
$\Ext^j_{D(X)}(M,N)$, $j>0$, write
\begin{equation*}
	\Ext^j_{D(X)}(M,N)=\oplus_i\Ext^j_{D(X)}(M,j_{i*}N'_{U_i})
	=\oplus_i\Ext^j_{D(U_i)}(j_i^*M,N'_{U_i});
\end{equation*}
this map sends $\varphi\in\Ext^j_{D(X)}(M,N)$ to 
$\oplus_i\varphi_i$, where $\varphi_i\in\Ext^j_{D(U_i)}(j_i^*M,N'_{U_i})$ is
given by
\begin{equation*}
	\varphi_i:M_{U_i}[-j]\xra{j_i^*\varphi}N_{U_i}\ra N'_{U_i}.
\end{equation*}
This composition is zero by assumption.
\begin{perv}
	$j_{i*}$ no longer t-exact and the same argument doesn't work if you
	replace $j_{i*}$ with $^pj_{i*}$; $j^*$ is still t-exact so that
	$j_i^*{^pj_{i*}}=j_i^*{^pH^0}j_{i*}={^pH^0}j_i^*j_{i_*}={^pH^0}=\id$
	on $M(U_i)$ and $(j_i^*,\ ^pj_{i*})$ form an adjoint pair
	$M(U_i)\leftrightarrows M(X)$ but not $D(U_i)\leftrightarrows D(X)$.
\end{perv}
\subsection*{2.2.1}
We have
\begin{ceqn}\begin{equation*}
	\Ext^i_{D(X)}(M,N):=\Hom_{D(X)}(M,N[i])
	=\Hom_{D(X)}(M,i_*i^*N[i])
	=\Hom_{D(Y)}(i^*M,i^*N[i]).
\end{equation*}\end{ceqn}
Note that, although the embedding $M(Y)\hookrightarrow M(X)$ is via the
t-exact functor $i_*$, in order to show $I$ is an isomorphism we cannot 
naïvely make use of an adjunction between $i^*$ and $i_*$ as $i^*$ is no
longer t-exact. (It is true however that $(^pi^*,\ ^pi_*=i_*)$ form an
adjoint pair \cite[1.4.16]{BBD}.)

The part about $\Ext^i_{M(X)}(M,N)$ coinciding with the set of connected
components of $E^i_{M(X)}(M,N)$ is (3.2.2) in Verdier,
\emph{Des catégories dérivées des catégories abéliennes},
Astérisque \textbf{239}.
The sequence of morphisms in $E^i_{M(X)}(M,N)$ connecting $C^\dotp$ with
$\Phi_f(C^\dotp)$ is as written
\begin{equation*}\tag{$\dagger$}\label{eq:sasha_derived_2.2.1}
	C^\dotp\ra C^\dotp\oplus\Xi_f(C^\dotp_U)\ra 
	(C^\dotp\oplus\Xi_f(C^\dotp_U)/j_!(C^\dotp_U)\leftarrow\Phi_f(C^\dotp).
\end{equation*}
Recall that the unipotent vanishing cycles functor $\Phi_f:M(X)\ra M(X)$ is
defined as the $H^0$ of the complex of objects in $M(X)$
\begin{equation*}
	j_!j^*K\ra\Xi_f j^*K\oplus K\ra j_*j^*K
\end{equation*}
where $K$ is a perverse sheaf on $X$ (see \S6 of Morel's notes and
\hyperref[sec:MorelPhi]{the accompanying note}).
The point is that the ends of $C^\dotp$ are supported on $Y$, and for a
perverse sheaf $K$ in $M(X)$ supported on $Y$, the maps in
\eqref{eq:sasha_derived_2.2.1} degenerate to
\begin{equation*}
	K\ra K\oplus0\ra K\oplus0\leftarrow K=\Phi_f(K)
\end{equation*}
with every map the identity.

\subsection*{2.2.2}
Let's show that given an adjunction of exact functors $F\dashv G$ between
abelian categories 
$\begin{tikzcd}\mathcal A\arrow[r,"G",shift left]&\mathcal B\arrow[l,"F",shift left]\end{tikzcd}$, we have
\begin{equation*}
	\Hom_{D(\mathcal A)}(FB,A)=\Hom_{D(\mathcal B)}(B,GA).
\end{equation*}
The extension of the adjunction $F\dashv G$ to complexes of objects of 
$\mathcal A$ and $\mathcal B$ is simple, and it is easy to verify that
the adjunction sends homotopic morphisms to homotopic morphisms, hence
descends to an adjunction $K(\mathcal A)\leftrightarrows K(\mathcal B)$.
As the functors are both exact, they preserve quasi-isomorphisms, so to
conclude on derived categories we write
{\small\begin{ceqn}\begin{equation*}
\begin{tikzcd}[column sep=10pt,row sep=10pt]
	&C\arrow[dl,"\sim"']\arrow[dr,"f"] \\
	B&&GA
\end{tikzcd}
\rightsquigarrow
\begin{tikzcd}[column sep=10pt,row sep=10pt]
	&FC\arrow[dl,"\sim"']\arrow[dr,"Ff"] \\
	FB&&FGA\arrow[r,"\vep A"]&[10pt]A
\end{tikzcd}
\rightsquigarrow
\begin{tikzcd}[column sep=10pt,row sep=10pt]
	&[10pt]C\arrow[drrr,dashed,bend left,"f"]\arrow[r,"\eta C"']\arrow[dl,"\sim"']&[10pt]GFC\arrow[dl,"\sim"]\arrow[dr,"GFf"] \\
	B\arrow[r,"\eta B"']&GFB&&GFGA\arrow[r,"\vep A"]&[10pt]GA
\end{tikzcd}
\end{equation*}\end{ceqn}}
(the dashed arrow coincides with $f$ since it coincides with applying
the adjunction isomorphism backwards and forwards to $f$), and
{\small\begin{ceqn}\begin{equation*}
\begin{tikzcd}[column sep=10pt,row sep=10pt]
	&D\arrow[dl,"\sim"']\arrow[dr,"g"] \\
	FB&&A
\end{tikzcd}
\rightsquigarrow
\begin{tikzcd}[column sep=10pt,row sep=10pt]
	&[10pt]&GD\arrow[dl,"\sim"']\arrow[dr,"Gg"] \\
	B\arrow[r,"\eta B"]&GFB&&GA
\end{tikzcd}
\rightsquigarrow
\begin{tikzcd}[column sep=10pt,row sep=10pt]
	&[10pt]&[10pt]&FGA\arrow[r,"\vep A"]&[10pt]A \\
	&&FGD\arrow[dl,"\sim"']\arrow[r,"\vep D"]\arrow[ur,"FGg"]
	&D\arrow[dl,"\sim"]\arrow[ur,"g"'] \\
	FB\arrow[rr,bend right,dashed,"\id"]\arrow[r,"F\eta B"]
	&FGFB\arrow[r,"\vep FA"]&FA
\end{tikzcd}
\end{equation*}\end{ceqn}}
Together these diagrams show that the maps on $\Hom$ induced by the first
$\rightsquigarrow$ of each row are mutually inverse and induce the 
isomorphism $\Hom_{D(\mathcal A)}(FB,A)=\Hom_{D(\mathcal B)}(B,GA)$.

\subsection*{2.2.3}
Of course $j_!j^*M\ra M$ has nonzero image since this arrow 
restricts to the identity over $U$ and $j^*$ is exact functor so that $j^*$
of the image is $M$. As $M$ is irreducible, $j_!j^*M\ra M$ is therefore an
epimorphism. Then $(K,j_!j^*M,M)$ is a distinguished triangle of perverse
sheaves and applying $j^*$ finds $j^*K=0$.

$X$ needn't be irreducible, so needn't have a unique generic point.
However, we reduce to the case $X$ irreducible in the next paragraph,
allowing us to assume $X$ irreducible with generic point $\eta$ in the rest
of this paragraph. I see no reason why
\begin{align*}
	&(\operatorname{co})\ker(\Ext^\dotp_{M(X)}(M,N)\ra\Ext^\dotp_{D(X)}(M,N)) \\
	&=(\operatorname{co})\ker(\Ext^\dotp_{M(X)}(M,j_*N_U)\ra\Ext^\dotp_{D(X)}(M,j_*N_U));
\end{align*}
take some stupid example like
\begin{equation*}\begin{tikzcd}
	0\arrow[r]&0\arrow[r]\arrow[d]&C_3\arrow[r]\arrow[d]&C_1\oplus C_2\oplus C_3
	\arrow[r]\arrow[d,equals]&C_1\oplus C_2\arrow[d]\arrow[r]&0 \\	0\arrow[r]&0\arrow[r]&C_2\oplus C_3\arrow[r]&C_1\oplus C_2\oplus C_3
	\arrow[r]&C_1\arrow[r]&0.
\end{tikzcd}\end{equation*}
We instead make a slightly more subtle analysis.
For each $U\ni\eta$, we have the following commutative diagram
with exact rows \& columns.
{\small\begin{ceqn}\begin{equation*}\mathclap{\begin{tikzcd}[column sep=8pt, ampersand replacement=\&]
	\Ext^{i-1}_{M(U)}(M_U,N_U)\arrow[d,"\beta^{i-1}"]\arrow[r]
	\&\Ext^{i-1}_{M(X)}(M,L^U)\arrow[r]\arrow[d,"\rsim"]
	\&\Ext^i_{M(X)}(M,N)\arrow[r]\arrow[d,"\alpha"]
	\&\Ext^i_{M(U)}(M_U,N_U)\arrow[d,"\beta^i"]\arrow[r]
	\&\Ext^i_{M(X)}(M,L^U)\arrow[d,"\rsim"] \\
	\Ext^{i-1}_{D(U)}(M_U,N_U)\arrow[r]
	\&\Ext^{i-1}_{D(X)}(M,L^U)\arrow[r]
	\&\Ext^i_{D(X)}(M,N)\arrow[r]
	\&\Ext^i_{D(U)}(M_U,N_U)\arrow[r]
	\&\Ext^i_{M(X)}(M,L^U)
\end{tikzcd}}\end{equation*}\end{ceqn}}
These diagrams form an inductive system with respect to étale neighborhoods
of $\eta$, and in the limit $\beta^{i-1}$ and $\beta$ are isomorphisms.
By the five lemma, $\alpha$ is an isomorphism.
(In more words, say we have an element $x\in\ker\alpha$. Shrinking $U$,
we can make its image in $\Ext^i_{M(U)}(M_U,N_U)$ zero. Chasing the diagram,
we produce an element $y\in\Ext^{i-1}_{D(U)}(M_U,N_U)$; shrinking $U$ 
further we produce a $z\in\Ext^{i-1}_{M(U)}(M_U,N_U)$ with
$\beta^{i-1}(z)=y$ whose image in $\Ext^i_{M(X)}(M,N)$ equals $x$.
Hence $x$ is zero.
Given $w\in\coker\alpha$, $\coker\alpha\hookrightarrow\coker\beta^i$
injects by the strong four lemma. Shrinking $U$, we can make the image of
$w$ in $\coker\beta^i$ zero so that $w=0$, etc.)

\subsubsection*{Reduction to the case $X$ irreducible}
Let $X_i$ denote the irreducible components of $X$ with generic points
$\eta_i$.
Since (2.2.3) covers the case when $\dim\supp N<\dim X$, (2.2.4) should more
properly say that we consider an irreducible $N$ supported at the generic
point $\eta$ of an irreducible component $X_1$ of $X$ with $\dim X_1=\dim X$.
This doesn't preclude the possibility that $N$ is supported at
the generic points $\eta_i$ of two (or more) such irreducible
components $X_i$ with $\dim X_i=\dim X$ and possibly nonempty pairwise
intersection. If so, we should pick open affine $U\subset X$
with $U=\coprod_i U_i,\eta_i\in U_i\subset X_i$ so that the $U_i$ are 
irreducible and have $U_i\cap U_j=\emptyset$.
We have to compute $\Ext^\dotp(M_U,N_U)$ for this $U$. Ordinary sheaves on
$U$ decompose as a direct sum of sheaves each supported on one $U_i$, and
morphisms between two such sheaves $\mathcal F,\mathcal G$ respect this
decomposition so that
$\Hom(\mathcal F,\mathcal G)=\oplus_i\Hom(\mathcal F_{U_i},\mathcal G_{U_i})$.
Objects of $D(U)$ are complexes of sheaves on $U$ and therefore decompose
similarly into a direct sum; as $D=D^b$, in particular bounded below,
$D(U)$ is equivalent to the homotopy category of bounded below 
complexes of injective sheaves, which likewise decompose, inducing a
decomposition of the category $D(U)\simeq\oplus_i D(U_i)$ and therefore
a decomposition $D(U)\supset M(U)\simeq\oplus_i M(U_i)$.
Therefore
\begin{equation*}
	\Ext^\dotp_{D(U)}(M_U,N_U)=\oplus_i\Ext^\dotp_{D(U_i)}(M_{U_i},N_{U_i}),
\end{equation*}
and we will have the same decomposition for $\Ext_{M(U)}^\dotp$ in light of
$M(U)\simeq\oplus_i M(U_i)$, provided we can show that
$\Ext^\dotp_{M(U_i\coprod U_j)}(M_{U_i},N_{U_j})=0$ for $i\ne j$.
Since $M(U_i\coprod U_j)\simeq M(U_i)\oplus M(U_j)$,
this follows from Yoneda's description of $\Ext^p$: any acyclic complex
\begin{equation*}
	M_{U_i}\ra L^{-p+1}\ra\cdots\ra L^0\ra N_{U_j}
\end{equation*}
will decompose as the direct sum of acyclic complexes
\begin{gather*}
	M_{U_i}\ra L_{U_i}^{-p+1}\ra\cdots\ra L_{U_i}^0\ra 0\qquad\text{and} \\
	0\ra L_{U_j}^{-p+1}\ra\cdots\ra L_{U_j}^0\ra N_{U_j},
\end{gather*}
demonstrating a decomposition
\begin{equation*}
	\Ext^p_{M(U_i\coprod U_j)}(M_{U_i},N_{U_j})=
	\Ext^p_{M(U_i)}(M_{U_i},0)\oplus\Ext^p_{M(U_j)}(0,N_{U_j})=0.
\end{equation*}

\subsection*{Epilogue: Madhav's \emph{Constructible Sheaves}}
Theorem 1 uses a transcendental input. The content of \S3 does not, although
the proof of Proposition 3.10 must be modified in order to work in the
setting of constructible étale sheaves on a $k$-variety with $k$ of
possibly nonzero characteristic.

\subsubsection*{Proof of Theorem 1}
Arranging the projection $\pi$: follow the directions of the proof of the 
basic lemma (second form). The linear change of coordinates required to make
$f$ monic in the last variable $x_n$ amounts to the substitutions
$x_i\mapsto x_i+x_n$ for $i<n$ (which ensures that the coefficient of the
highest power of $x_n$ appearing in $f$ is a nonzero scalar
$\alpha\in k^\times$), followed by $x_n\mapsto\alpha^{-1/m}x_n$.
If we work over a field which is not algebraically closed, $y^m-1/\alpha$
may not have any roots. However, we may replace $k$ by its perfect closure
(a universally integral, radicial, surjective extension), and then assume
we need an $m^{\text{th}}$ root of a nonzero scalar with $p\nmid m$; the
minimal polynomial over $k$ for such an element defines a finite separable
extension $k'\supset k$; denote by $f$ the corresponding map on spectra.
If we can prove Theorem 1 for $\A^n_{k'}$, then we
can deduce the result that any constructible sheaf $\mathcal F$ admits a
monomorphism $\mathcal F\hookrightarrow\mathcal G$ which induces the null
map $H^i(\A^n_k,\mathcal F)\ra H^i(\A^n_k,\mathcal G)$ by finding a 
monomorphism $\alpha:f^*\mathcal F\hookrightarrow\mathcal G'$ with
$H^i(\A^n_{k'},\mathcal G')=0$ for $i>0$ and then taking the monomorphism
$\mathcal F\xhookrightarrow{\operatorname{res}}f_*f^*\mathcal F\xhookrightarrow{f_*\alpha}f_*\mathcal G'=:\mathcal G$.

In any event, the projection $\pi$ obtained by making these linear changes
of coordinates and then forgetting $x_n$ enjoys all the properties of the
usual coordinate projection: $\pi$ is smooth with fibers which are copies of
$\A^1_k$, hence $\pi$ is acyclic. If $\mathcal F$ is a constructible sheaf
on $\A^n_k$, we know that after a linear change of coordinates inducing an
automorphism $f:\A^n_k\ra\A^n_k$, $f^*\mathcal F$ satisfies the conditions
of (2.2) \& (1.3A) for $\pi:\A^n\ra\A^{n-1}$ the usual coordinate projection,
so we get a monomorphism $f^*\mathcal F\hookrightarrow\mathcal G$ with
$H^i(\A^n_k,\mathcal G)=0$ for $i>0$. Now apply $f_*$. In this way we reduce
to $\pi$ the usual coordinate projection when applying (2.2) \& (1.3A).

In the proof itself, both morphisms of short exact sequences are constructed 
by forming $H$ and $G$ by pushout, and then forming cokernels. To see that
the third vertical maps constructed from the universal property of cokernels
are isomorphisms, consider by way of example the second diagram.
Notate by $\alpha,\beta$ the nontrivial monomorphisms of the
upper and lower rows, respectively. Then $\coker\alpha=\coker\beta$ since to
give a map from $G$ that kills $H$ is the same as giving a map from
$\pi^*J$ that kills $\pi^*\pi_*H$.

\subsubsection*{2.1}
As $\mathcal A=\Delta^*\pr_1^*\mathcal A$, the map 
$p_1^*\mathcal A\twoheadrightarrow\Delta_*\mathcal A$ is of
course the unit of adjunction.

\subsubsection*{2.2}
As remarked in the note to the proof of Theorem 1 above, we may assume
that $\pi$ is the canonical projection.
The relevant maps are defined by the cartesian square
\begin{equation*}\begin{tikzcd}
	\A^2_X\arrow[r,"p_2"]\arrow[dr,"\Pi"]\arrow[d,"p_1"]
	&\A^1_X\arrow[d,"\pi"] \\
	\A^1_X\arrow[r,"\pi"]&X.
\end{tikzcd}\end{equation*}
\emph{Proof of (2)}\quad
To see that $p_2|_Y$ is finite, note that it suffices to show that $p_2$ 
is finite when restricted to $\Delta(\A^1_X)$ and $p_1^{-1}V$ separately, as
if $X\times\A^1=\Spec A$ and $Y=\Spec B$ with ideals $I,J\subset B$ defining
the closed loci of which $Y$ is the union (i.e. $I\cap J=0$), the square
\begin{equation*}\begin{tikzcd}
	B=B/I\cap J\arrow[d]\arrow[r]&B/I\arrow[d] \\
	B/J\arrow[r]&B/I\cup J
\end{tikzcd}\end{equation*}
is bicartesian, so that if $B/I$ and $B/J$ are finite as modules over $A$, 
so too is $B$. To check that $p_2|_{p_1^{-1}V}$ is finite, pull back the 
square above along $V\hookrightarrow\A^1_X$ to produce another cartesian 
square
\begin{equation*}\begin{tikzcd}
	V\times\A^1\arrow[d]\arrow[r]\arrow[rr,bend left,"p_2|_{p_1^{-1}V}"]
	&\A^2_X\arrow[r,"p_2"]\arrow[d,"p_1"]
	&\A^1_X\arrow[d,"\pi"] \\
	V\arrow[r]&\A^1_X\arrow[r,"\pi"]&X.
\end{tikzcd}\end{equation*}
Now we need to show the vanishing of $p_{2*}\mathcal B$, which by (1.3A) is
equivalent to the vanishing of global sections of $p_1^*\mathcal A$ along
every geometric fiber of $p_2$. Fix a geometric point $x\ra\A^1_X$ defining
also the geometric point $x\ra X$, and let $p_2^{-1}x\ra\A^2_X$ be the
geometric fiber of $p_2$ above $x$; $p_2^{-1}x$ is isomorphic to the
geometric fiber $F_x:\pi^{-1}x\ra\A^1_X$ of $\pi$, and the restriction of
$p_1^*\mathcal A$ to $p_2^{-1}$ is therefore the same as the restriction of
$\mathcal A$ to $F_x$ (which is just a copy of $\A^1_{\overline k}$).
Since $\pi|_V$ is surjective and $\mathcal A|_V=0$, $F_x^{-1}V=:V_x$ is a
nonempty closed locus. Denoting by $j_x:U_x\hookrightarrow F_x$ the
complement of $V_x$ in the fiber, we have that
$j_x^*(\mathcal A|_{F_x})$ is locally constant and
$\mathcal A|_{F_x}=j_{x!}j_x^*(\mathcal A|_{F_x})$; such a sheaf on
$\A^1_{\overline k}$ has no nonzero global section.

\emph{Proof of (1)}\quad
In the notation of (1.3B), $M=X,M'=\A^1_X,L=\A^1_X,L'=\A^2_X,g=\pi=f$, so
that both $L\xra fM$ and $M'\xra gM$ coincide with $\A^1_X\xra\pi X$.
The business about $\pi_*\mathcal A=0$ reduces, after proper base change,
to the same situation just discussed, namely to the fact that if 
$j:U\subset\A^1_{\overline k}$ is a nonempty open and $\mathcal E$ a lisse
sheaf on $U$, $j_!\mathcal E$ has no nonzero global section.
Again, it is crucial that $V$ intersect every fiber of $\pi$ nontrivially.

\subsubsection*{2.3} (As $Rp_{2*}\Delta_*=\id$,
$R^qp_{2*}\Delta_*\mathcal A=0$ for $q>0$.)

\subsubsection*{3.8} Here are the diagrams necessary to obtain the 
conclusion.
\begin{equation*}\begin{tikzcd}
	FGB\arrow[d,"\vep(B)"]\arrow[r,hook,"Fu"]&FA\arrow[d,"t"] \\
	B\arrow[r,hook,"v"]&B'
\end{tikzcd}\end{equation*}
\begin{gather*}
	u:GB\hookrightarrow A \\
	w:A\xra{\eta(A)}GFA\xra{Gt}GB'.
\end{gather*}
We want to show that the composition
\begin{equation*}\begin{tikzcd}
	GB\arrow[r,"u"]&A\arrow[r,"\eta(A)"]\arrow[rr,bend right,"w"]
	&GFA\arrow[r,"Gt"]&GB'
\end{tikzcd}\end{equation*}
coincides with $Gv$. This follows from the below commutative diagram;
that the dashed arrow coincides with the identity is a basic fact about 
adjunctions; c.f. Mac Lane IV.1 Th.\,1.
\begin{equation*}\begin{tikzcd}[column sep=small]
	GB\arrow[rr,hook,"u"]\arrow[dr,"\eta(GB)"]\arrow[ddr,dashed,bend right,"\id"]
	&&A\arrow[dr,"\eta(A)"] \\
	&GFGB\arrow[rr,hook,"GFu"]\arrow[d,"G\vep(B)"]
	&&GFA\arrow[d,"Gt"] \\
	&GB\arrow[rr,hook,"Gv"]&&GB'.
\end{tikzcd}\end{equation*}
From this general fact we deduce the admissibility of $j_!Q$ on $X$ from
that of $Q$ on $U$ in the following way.

$(j_!,j^*)$: if $\Ext^q_{\Sh(U)}(\mathcal F,-)$ is effaceable on $C(U)$, 
then $\Ext^q_{\Sh(U)}(\mathcal F,j^*(-))$ is effaceable on $C(X)$.
Let $\mathcal G$ be a constructible sheaf on $X$ and $\mathcal I^\dotp$ be a 
complex of injectives on $\Sh(X)$ resolving $\mathcal G$;
$j^*\mathcal I^\dotp$ is a complex of injectives on $\Sh(U)$ so that
\begin{ceqn}\begin{equation*}
	R\Hom^\dotp_{\Sh(U)}(\mathcal F,j^*(\mathcal G))
	=\Hom^\dotp_{\Sh(U)}(\mathcal F,j^*\mathcal I^\dotp)
	=\Hom^\dotp_{\Sh(X)}(j_!\mathcal F,\mathcal I^\dotp)
	=R\Hom^\dotp_{\Sh(X)}(j_!\mathcal F,\mathcal G).
\end{equation*}\end{ceqn}
Taking $H^q$ finds
\begin{equation*}
	\Ext^q_{\Sh(U)}(\mathcal F,j^*\mathcal G)
	=\Ext^q_{\Sh(X)}(j_!\mathcal F,\mathcal G),
\end{equation*}
so that if the former is effaceable on $C(X)$, the latter is.



\subsubsection*{3.10} Here are the necessary modifications: we may replace
$k$ by its perfect closure, as the extension is radicial and doesn't affect
the étale topos. We may also take the reduced scheme structure on $X$ for 
the same reason so that $X$ becomes geometrically reduced
(\hyperref[https://stacks.math.columbia.edu/tag/035U]{\texttt{035U}}).
A geometrically reduced scheme over a field has the property
(EGA $IV_2$ 4.6.1) that given any irreducible component with generic point
$\eta$, the field extension $k(\eta)/k$ is separable.
We give $Z_1$ and $Z_2$ their reduced scheme structures and
take $U'=\Spec B'$ to have all the stated properties and additionally
that $U'\cap Z_1=\Spec A'$ be nonempty irreducible with generic point
$\eta$; $U'\cap Z_1$ is also geometrically reduced over $k$.
We find a separating transcendence base $x_1,\ldots,x_d$ for $k(\eta)/k$ and
find some $f\in A'$ such that $x_1,\ldots,x_d$ are elements of $A'_f$,
defining a morphism $\Spec A'_f\ra\A^d$ which is generically étale
(but possibly neither finite nor surjective).
We lift $f$ to some element of $B'$ also called $f$, replace $U'$ by the
smaller affine open $\Spec B'_f$, and lift the above map to $h':U'\ra\A^d$.
As $h'|_{U'\cap Z_1}$ is a dominant and generically finite map of integral
schemes, there is a nonempty Zariski open of $W\subset \A^d$ over which 
$h'|_{U'\cap Z_1}^{-1}(W)\ra W$ is finite (Hartshorne II.3 Ex.\,3.7);
shrinking $W$ further, this map becomes a revêtement étale.

\newpage
\subsection*{Madhav's theorem in characteristic $p$}
\begin{theorem*}[Achinger]
	Every connected affine $\FF_p$-scheme $X$ is a $K(\pi,1)$-scheme; i.e.
	if $\overline x$ is a geometric point of $X$ and $\mathcal F$ a locally
	constant étale sheaf of finite abelian groups on $X$, the natural maps
	\begin{equation*}
	H^*(\pi_1(X,\overline x),\mathcal F_{\overline x})\ra H^*(X,\mathcal F)
	\end{equation*}
	are isomorphisms, where $\pi_1(X,\overline x)$ denotes the étale 
	fundamental group.
\end{theorem*}
Let $k$ be a field of characteristic $p$ and $\Lambda$ a finite local
$\ZZ/\ell^n$-algebra.
\begin{corollary*}
	The derived category of the abelian category of constructible sheaves of
	$\Lambda$-modules on a separated scheme $X$ of finite type over $k$
	coincides with $D_c^b(X,\Lambda)$.
\end{corollary*}
\begin{proof}
	It will suffice by Madhav's paper to efface the higher cohomology of a 
constructible sheaf $\mathcal F$ on an affine $X$.
More precisely, let $\zeta\in H^i(X,\mathcal F)$.
It will suffice to find a monomorphism $\mathcal F\hookrightarrow\mathcal G$
with $\mathcal G$ constructible so that the induced map on cohomology
annihilates $\zeta$. We may assume the field $k$ to be perfect.
Let $j:U\subset X$ be a nonempty smooth connected Zariski open locus
of $X$ so that $\mathcal F_U$ is locally constant and
$i:X-U\hookrightarrow X$.
As $\mathcal F$ includes into $i_*i^*\mathcal F\oplus j_*\mathcal F_U$, by
noetherian induction it will suffice to annihilate the image of $\zeta$ in
$H^i(X,j_*\mathcal F_U)$. For this we can replace $X$ by the closure of $U$
and assume $X$ moreover integral.
There is a finite connected étale $q_U:U'\ra U$ such that
$q_U^*\mathcal F_U$ is constant; let $q:X'\ra X$ be the normalization of $X$
in the field of fractions of $U'$ ($U'$ is integral as $U$ is normal),
and $j':U'\hookrightarrow X'$.
The sheaf $\mathcal F':=j'_*q_U^*\mathcal F_U$ is constant on $X'$ and
$j_*\mathcal F_U\hookrightarrow j_*q_{U*}q_U^*\mathcal F_U=q_*\mathcal F'$,
so it would  suffice to kill the image of $\zeta$ in $H^i(X',\mathcal F')$.
Since $X'$ is a $K(\pi,1)$ and $\mathcal F'$ is locally constant,
there exists a finite étale $p:X''\ra X'$ so that the image of 
$\zeta$ in $H^i(X'',p^*\mathcal F')$ is null; i.e. the monomorphism
$j_*\mathcal F_U\hookrightarrow q_*p_*p^*\mathcal F'$ effaces $\zeta$.
\end{proof}

% The following section is wrong for the reason given in the last sentence.
\comment{
\subsection*{Proving Madhav's theorem from Sasha's generic lemma}
Let $X$ be a separated scheme of finite type over a field $k$.
Let $\Lambda$ be either a finite local $\ZZ/\ell^n$-algebra, $\QQ_\ell$, or
$\overline\QQ_\ell$, with $\ell\ne\charac k$.
In the case $\Lambda$ is infinite, assume $k$ algebraically closed.
Let $C(X)$ denote constructible sheaves on $X$, $D(X):=D^b_c(X,\Lambda)$,
and for constructible sheaves $\mathcal F,\mathcal G$ on $X$, let
$\Ext^i_{D(X)}(\mathcal F,\mathcal G):=\Hom_{D(X)}(\mathcal F,\mathcal G[i])$.
\begin{theorem*}[Nori]
	$\real:D^b(C(X))\ra D(X)$ is an equivalence.
\end{theorem*}
\begin{proof}
It will suffice to show that for each $i>0$, the restriction of the functor
$\Ext^i_{D(X)}(\mathcal F,-)$ to $C(X)$ can be effaced by a monomorphism in 
$C(X)$. Call such an $\mathcal F$ admissible.
We assume $\real$ is an equivalence for varieties of dimension $<\dim X$,
and, thanks to Sasha, at the generic point.

Let $X_i$ denote the irreducible components of $X$ of dimension equal to
$\dim X$ and let $U=\coprod_iU_i\subset X$ be the disjoint union of nonempty 
open loci $U_i\subset X_i$; let $Y=X-U$ and define immersions $i,j$ by the
diagram
$\begin{tikzcd} U\arrow[r,hook,"j"]&X&Y\arrow[l,"i"',hook']\end{tikzcd}$.
Given any constructible sheaf $\mathcal K$ on $Y$, $i_*\mathcal K$ is
admissible, so that
$\Ext^i_{C(X)}(i_*\mathcal K,\mathcal G)=\Ext^i_{D(X)}(i_*\mathcal K,\mathcal G)$
for any constructible sheaf $\mathcal G$ on $X$
(this is proved in the next paragraph).
Given any constructible $\mathcal F$ on $X$, we consider the morphism from
the long exact sequence of $\Ext$ for $C(X)$ to that for $D(X)$ coming from
\begin{equation*}
	0\ra j_!\mathcal F_U\ra\mathcal F\ra i_*\mathcal F_Y\ra0.
\end{equation*}
Recalling that
$\Ext^i(j_!\mathcal F_U,\mathcal G)=\Ext^i(\mathcal F_U,\mathcal G_U)$
for both $C$ and $D$, we find
$\Ext^i_{C(X)}(\mathcal F,\mathcal G)\ra\Ext^i_{D(X)}(\mathcal F,\mathcal G)$
is an isomorphism by doing the same diagram chase that proves the five 
lemma, shrinking $U$ along the way and using Sasha's generic lemma.

It remains to show that given constructible $\mathcal K$ on $Y$ a proper 
closed subscheme of $X$, $i_*\mathcal K$ is admissible. Since
$i_*\dashv i^!$ is an adjoint pair of functors $C(Y)\leftrightarrows C(X)$
and $i_*$ is exact, Madhav's Remark 3.8 gives that
$\Ext^i_{D(X)}(\mathcal K,i^!(-))$ is effaceable on $C(X)$ if
$\Ext^i_{D(Y)}(\mathcal K,-)$ is effaceable on $C(Y)$,
which is true by the inductive hypothesis.
As $i^!$ sends injectives to injectives,
$\Ext^i_{D(X)}(i_*\mathcal K,-)=\Ext^i_{D(Y)}(\mathcal K,i^!(-))$ is 
effaceable on $C(X)$.
\end{proof}

\newpage
$\begin{tikzcd} U\arrow[r,hook,"j"]&X&Y\arrow[l,"i"',hook']\end{tikzcd}$.
Let $\Sh(X)$ denote the abelian category of all étale sheaves and
$C(X)\subset\Sh(X)$ the full subcategory of constructible sheaves.
We have the left-exact functor $i^!:\Sh(X)\ra\Sh(Y)$ which restricts to a
functor $i^!:C(X)\ra C(Y)$. We have the adjunction
\begin{equation*}
	\Hom_{\Sh(X)}(i_*\mathcal F,\mathcal G)
	=\Hom_{\Sh(Y)}(\mathcal F,i^!\mathcal G)
\end{equation*}
for any $\mathcal F\in\ob\Sh(Y),\mathcal G\in\ob\Sh(X)$.
In particular we have the same adjunction when $\mathcal F$ and $\mathcal G$
are constructible so that $i_*\dashv i^!$ as functors
$C(Y)\leftrightarrows C(X)$.
By Madhav's Remark 3.8, given any functor $H:C(Y)\ra\mathcal C$
which is effaceable in $C(Y)$ ($\mathcal C$ is any category),
$H\circ i^!$ is effaceable in $C(X)$. Applying this in the case
$H=\Ext^a_{\Sh(Y)}(\mathcal F,-)$, with $\mathcal F$ constructible and
admissible on $Y$, finds that the functor
$H\circ i^!=\Ext^a_{\Sh(Y)}(\mathcal F,i^!(-))$ is effaceable as a functor
on $C(X)$. Given any $\mathcal G$ constructible on $X$, take a
quasi-isomorphism $\mathcal G\ra\mathcal I^\dotp$ where $\mathcal I^\dotp$
is a complex of injective sheaves.
The problem is that $i^!\mathcal I^\dotp$ computes $Ri^!\mathcal G$, not
$i^!\mathcal G$.
}


\addtocontents{toc}{\protect\setcounter{tocdepth}{-1}}
\begin{thebibliography}{BBD}
	\bibitem[B1]{derived} \emph{On the derived category of perverse sheaves} par Beilinson
	\bibitem[B2]{glue} \emph{How to glue perverse sheaves} par Beilinson
	\bibitem[BBD]{BBD} \textit{Faisceaux Pervers}
	par Beilinson, Bernstein, Deligne (\& Gabber!)
\end{thebibliography}
\addtocontents{toc}{\protect\setcounter{tocdepth}{1}}
\end{document}

